{"version":3,"file":"xc-wizard.umd.js.map","sources":["ng://xc-wizard/lib/storage.helper.ts","ng://xc-wizard/lib/wizard.component.ts","ng://xc-wizard/lib/wizard.module.ts"],"sourcesContent":["export class LocalStorageHelper {\n  static store(key: string, value: any) {\n    if (window.localStorage) {\n      try {\n        localStorage.setItem(key, JSON.stringify(value));\n      } catch (e) {\n        console.log('no storage');\n      }\n    }\n  }\n\n  static get(key: string) {\n    if (window.localStorage) {\n      try {\n        return localStorage.getItem(key);\n      } catch (e) {\n        return null;\n      }\n    }\n  }\n\n  static remove(key: string) {\n    if (window.localStorage) {\n      try {\n        localStorage.removeItem(key);\n      } catch (e) {\n        console.log('no storage');\n      }\n    }\n  }\n\n  static clearAll() {\n    if (window.localStorage) {\n      try {\n        localStorage.clear();\n      } catch (e) {\n        console.log('no storage');\n      }\n    }\n  }\n\n}\n","import { Component, OnInit, Input, OnChanges, SimpleChanges, OnDestroy, ViewEncapsulation,\n  ViewChild, Output, EventEmitter } from '@angular/core';\nimport { merge, cloneDeep } from 'lodash-es';\nimport { fromEvent } from 'rxjs';\nimport { NzCarouselComponent } from 'ng-zorro-antd';\nimport { LocalStorageHelper } from './storage.helper';\n\nexport interface WizardConfig {\n  steps: Step[];\n  scroller?: HTMLElement;\n  skipForever?: boolean;\n  skipKey?: string;\n  boundaryWidth?: number;\n  scrollTopOffset?: number;\n  scrollBottomOffset?: number;\n  tipWidth?: number;\n  tipHeight?: number;\n  priority?: TipDirection[];\n}\n\nexport interface Step {\n  id: string;\n  title: string;\n  content: string;\n  next?: () => void;\n  prev?: () => void;\n}\n\nexport enum TipDirection {\n  TOP = 0, RIGHT = 1, BOTTOM = 2, LEFT = 3\n}\n\nconst defaultConfig = {\n  steps: undefined, skipForever: true, skipKey: 'skipWizard', boundaryWidth: 15, scrollTopOffset: 0, scrollBottomOffset: 0,\n  scroller: document.body, tipHeight: 180, tipWidth: 320, priority: [2, 0, 1, 3]\n};\n\n@Component({\n  selector: 'lib-wizard',\n  templateUrl: './wizard.component.html',\n  styleUrls: ['./wizard.component.scss'],\n  encapsulation: ViewEncapsulation.None\n})\nexport class WizardComponent implements OnInit, OnChanges, OnDestroy {\n\n  @Input() config: WizardConfig;\n\n  @Output() stepChange = new EventEmitter<{\n    prev: number; next: number\n  }>();\n\n  @ViewChild(NzCarouselComponent) carousel: any;\n\n  private position: TipDirection;\n\n  private arrowWidth = 15;\n\n  private _noWizard = true;\n  private current = 0;\n  private retryCount = 0;\n\n  private detector: any;\n  private domStyle: any;\n  private tipStyle: any;\n\n  get pos() {\n    return this.position;\n  }\n\n  get noWizard() {\n    return this._noWizard;\n  }\n\n  get currentIndex() {\n    return this.current;\n  }\n\n  get style() {\n    if (!this.domStyle) {\n      return null;\n    }\n    return {\n      width: `${this.domStyle.width}px`,\n      height: `${this.domStyle.height > document.body.clientHeight ? document.body.clientHeight : this.domStyle.height}px`,\n      'border-width': `${this.domStyle.borderTop}px ${this.domStyle.borderRight}px \\\n        ${this.domStyle.borderBottom}px ${this.domStyle.borderLeft}px`\n    };\n  }\n\n  get button() {\n    if (this.config && this.tipStyle) {\n      this.tipStyle.width = `${this.config.tipWidth}px`;\n      this.tipStyle.height = `${this.config.tipHeight}px`;\n    }\n    return this.tipStyle;\n  }\n\n  constructor() { }\n\n  ngOnInit() {\n    if (!this.config) {\n      this._noWizard = true;\n    }\n    fromEvent(window, 'resize').subscribe(() => this.detect());\n  }\n\n  close(store: boolean) {\n    this._noWizard = true;\n    if (store && this.config.skipForever) {\n      LocalStorageHelper.store(`${this.config.skipKey}`, true);\n    }\n  }\n\n  change(index: number) {\n    this.stepChange.emit({\n      prev: this.current, next: index\n    });\n    this.current = index;\n    setTimeout(() => this.detect());\n  }\n\n  ngOnDestroy() {\n    cancelAnimationFrame(this.detector);\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (changes.config && changes.config.currentValue) {\n      this.update();\n    }\n  }\n\n  private update() {\n    this.config = merge(cloneDeep(defaultConfig), this.config);\n    this._noWizard = (this.config.steps && this.config.steps.length) ?\n      (this.config.skipForever ? (LocalStorageHelper.get(this.config.skipKey) ? true : false) : false)\n      : true;\n    if (!this.noWizard) {\n      this.detectElement();\n    }\n  }\n\n  private detect() {\n    if (this.config && this.config.steps && this.config.steps.length && this.current < this.config.steps.length) {\n      const elem = document.querySelector(this.config.steps[this.current].id);\n      if (elem) {\n        const bounding = elem.getBoundingClientRect();\n        const scroller = this.config.scroller;\n        if (!this.scrollToPosition(bounding, scroller) && this.retryCount < 3) {\n          this.retryCount++;\n          setTimeout(() => this.detect());\n          return;\n        }\n        this.retryCount = 0;\n        this.calcDom(bounding);\n        this.calcTipDom(bounding);\n      } else {\n        this.detectElement();\n      }\n    }\n  }\n\n  private detectElement() {\n    this.detector = requestAnimationFrame(this.detect.bind(this));\n  }\n\n  private calcDom(bounding: any) {\n    this.domStyle = {\n      width: bounding.width + 2 * this.config.boundaryWidth,\n      height: bounding.height + 2 * this.config.boundaryWidth,\n      borderTop: this.limitToPositive(bounding.top - this.config.boundaryWidth),\n      borderLeft: this.limitToPositive(bounding.left - this.config.boundaryWidth),\n      borderBottom: this.limitToPositive(document.body.clientHeight - bounding.top - bounding.height - this.config.boundaryWidth),\n      borderRight: this.limitToPositive(document.body.clientWidth - bounding.left - bounding.width - this.config.boundaryWidth)\n    };\n  }\n\n  prev() {\n    const tmp = this.current;\n    this.current--;\n    if (this.current < 0) {\n      this.current = 0;\n    }\n    const callback = this.config.steps[tmp].prev;\n    if (callback) {\n      callback();\n    }\n    this.stepChange.emit({\n      prev: tmp, next: this.current\n    });\n    setTimeout(() => {\n      this.carousel.goTo(this.current);\n      this.detect();\n    });\n  }\n\n  next() {\n    const tmp = this.current;\n    this.current++;\n    if (this.current >= this.config.steps.length) {\n      this.current = this.config.steps.length - 1;\n    }\n    const callback = this.config.steps[tmp].next;\n    if (callback) {\n      callback();\n    }\n    this.stepChange.emit({\n      prev: tmp, next: this.current\n    });\n    setTimeout(() => {\n      this.carousel.goTo(this.current);\n      this.detect();\n    });\n  }\n\n  private calcTipDom(bounding: any) {\n    const topSpace = bounding.top - 2 * this.config.boundaryWidth - this.arrowWidth - this.config.tipHeight;\n    const bottomSpace = document.body.clientHeight - 2 * this.config.boundaryWidth\n      - bounding.top - bounding.height - this.arrowWidth - this.config.tipHeight;\n    const leftSpace = bounding.left - 2 * this.config.boundaryWidth - this.arrowWidth - this.config.tipWidth;\n    const rightSpace = document.body.clientWidth - 2 * this.config.boundaryWidth - bounding.left\n      - bounding.width - this.arrowWidth - this.config.tipWidth;\n    const spaces = this.config.priority.map(p => {\n      let space;\n      switch (p) {\n        case TipDirection.BOTTOM:\n          space = bottomSpace;\n          break;\n        case TipDirection.TOP:\n          space = topSpace;\n          break;\n        case TipDirection.LEFT:\n          space = leftSpace;\n          break;\n        case TipDirection.RIGHT:\n          space = rightSpace;\n          break;\n      }\n      return { direction: p, space };\n    });\n    const bundle = spaces.find(s => s.space >= 0);\n    this.position = bundle ? bundle.direction : TipDirection.BOTTOM;\n    switch (bundle.direction) {\n      case TipDirection.TOP:\n        this.tipStyle = {\n          left: `${this.limitTipInWindow(this.domStyle.borderLeft, document.body.clientWidth, this.config.tipWidth)}px`,\n          top: `${this.limitTipInWindow(this.domStyle.borderTop - this.config.tipHeight - this.arrowWidth,\n            document.body.clientHeight, this.config.tipHeight)}px`\n        };\n        break;\n      case TipDirection.RIGHT:\n        this.tipStyle = {\n          left: `${this.limitTipInWindow(this.domStyle.borderLeft + this.domStyle.width + this.arrowWidth,\n            document.body.clientWidth, this.config.tipWidth)}px`,\n          top: `${this.limitTipInWindow(this.domStyle.borderTop,\n            document.body.clientHeight, this.config.tipHeight)}px`\n        };\n        break;\n      case TipDirection.BOTTOM:\n        this.tipStyle = {\n          left: `${this.limitTipInWindow(this.domStyle.borderLeft,\n            document.body.clientWidth, this.config.tipWidth)}px`,\n          top: `${this.limitTipInWindow(this.domStyle.borderTop + this.domStyle.height + this.arrowWidth,\n            document.body.clientHeight, this.config.tipHeight)}px`\n        };\n        break;\n      case TipDirection.LEFT:\n        this.tipStyle = {\n          left: `${this.limitTipInWindow(this.domStyle.borderLeft - this.arrowWidth - this.config.tipWidth,\n            document.body.clientWidth, this.config.tipWidth)}px`,\n          top: `${this.limitTipInWindow(this.domStyle.borderTop,\n            document.body.clientHeight, this.config.tipHeight)}px`\n        };\n        break;\n      default:\n        console.log('no place');\n        break;\n    }\n  }\n\n  private limitToPositive(n: number) {\n    if (n < 0) {\n      return 0;\n    }\n    return n;\n  }\n\n  private limitTipInWindow(n: number, limit?: number, addon?: number) {\n    if (n < 0) {\n      return 0;\n    }\n    if (limit && addon && n + addon > limit) {\n      return limit - addon;\n    }\n    return n;\n  }\n\n\n  private scrollToPosition(bounding: any, scroller: any, addon?: number) {\n    if (scroller) {\n      const height = bounding.top + bounding.height + this.config.boundaryWidth + this.config.scrollBottomOffset + (addon || 0);\n      if (addon) {\n        const del = height - /*document.body.clientHeight*/scroller.clientHeight;\n        if (scroller.scrollTop > del) {\n          scroller.scrollTop -= del;\n          return false;\n        }\n      }\n      const scBounding = scroller.getBoundingClientRect();\n      if (bounding.top - this.config.scrollTopOffset > scBounding.top /*0*/ && height > scroller.clientHeight) {\n        const delta = height + 1 - scroller.clientHeight;\n        scroller.scrollTop += delta;\n        return false;\n      }\n      if (bounding.top - this.config.scrollTopOffset < scBounding.top) {\n        scroller.scrollTop -= bounding.top - this.config.scrollTopOffset;\n        return false;\n      }\n    }\n    return true;\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { WizardComponent } from './wizard.component';\nimport { CommonModule } from '@angular/common';\nimport { NzCarouselModule, NzButtonModule, NzGridModule } from 'ng-zorro-antd';\n\n@NgModule({\n  declarations: [WizardComponent],\n  imports: [\n    CommonModule, NzCarouselModule, NzButtonModule, NzGridModule\n  ],\n  exports: [WizardComponent]\n})\nexport class WizardModule { }\n"],"names":["EventEmitter","fromEvent","merge","cloneDeep","Component","ViewEncapsulation","Input","Output","ViewChild","NzCarouselComponent","NgModule","CommonModule","NzCarouselModule","NzButtonModule","NzGridModule"],"mappings":"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"}
