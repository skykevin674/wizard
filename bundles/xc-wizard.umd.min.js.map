{"version":3,"sources":["ng://xc-wizard/lib/storage.helper.ts","ng://xc-wizard/lib/wizard.component.ts","ng://xc-wizard/lib/wizard.module.ts"],"names":["LocalStorageHelper","store","key","value","window","localStorage","setItem","JSON","stringify","e","console","log","get","getItem","remove","removeItem","clearAll","clear","TOP","RIGHT","BOTTOM","LEFT","defaultConfig","steps","undefined","skipForever","skipKey","boundaryWidth","scrollTopOffset","scrollBottomOffset","scroller","document","body","tipHeight","tipWidth","priority","WizardComponent","this","stepChange","EventEmitter","arrowWidth","_noWizard","current","retryCount","Object","defineProperty","prototype","position","domStyle","width","height","clientHeight","border-width","borderTop","borderRight","borderBottom","borderLeft","config","tipStyle","ngOnInit","_this","fromEvent","subscribe","detect","close","change","index","emit","prev","next","setTimeout","ngOnDestroy","cancelAnimationFrame","detector","ngOnChanges","changes","currentValue","update","merge","cloneDeep","length","noWizard","detectElement","elem","querySelector","id","bounding","getBoundingClientRect","scrollToPosition","calcDom","calcTipDom","requestAnimationFrame","bind","limitToPositive","top","left","clientWidth","tmp","callback","carousel","goTo","topSpace","bottomSpace","leftSpace","rightSpace","bundle","map","p","space","TipDirection","direction","find","s","limitTipInWindow","n","limit","addon","del","scrollTop","scBounding","delta","Component","args","selector","template","encapsulation","ViewEncapsulation","None","Input","Output","ViewChild","NzCarouselComponent","WizardModule","NgModule","declarations","imports","CommonModule","NzCarouselModule","NzButtonModule","NzGridModule","exports"],"mappings":"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","sourcesContent":["export class LocalStorageHelper {\n  static store(key: string, value: any) {\n    if (window.localStorage) {\n      try {\n        localStorage.setItem(key, JSON.stringify(value));\n      } catch (e) {\n        console.log('no storage');\n      }\n    }\n  }\n\n  static get(key: string) {\n    if (window.localStorage) {\n      try {\n        return localStorage.getItem(key);\n      } catch (e) {\n        return null;\n      }\n    }\n  }\n\n  static remove(key: string) {\n    if (window.localStorage) {\n      try {\n        localStorage.removeItem(key);\n      } catch (e) {\n        console.log('no storage');\n      }\n    }\n  }\n\n  static clearAll() {\n    if (window.localStorage) {\n      try {\n        localStorage.clear();\n      } catch (e) {\n        console.log('no storage');\n      }\n    }\n  }\n\n}\n","import { Component, OnInit, Input, OnChanges, SimpleChanges, OnDestroy, ViewEncapsulation,\n  ViewChild, Output, EventEmitter } from '@angular/core';\nimport { merge, cloneDeep } from 'lodash-es';\nimport { fromEvent } from 'rxjs';\nimport { NzCarouselComponent } from 'ng-zorro-antd';\nimport { LocalStorageHelper } from './storage.helper';\n\nexport interface WizardConfig {\n  steps: Step[];\n  scroller?: HTMLElement;\n  skipForever?: boolean;\n  skipKey?: string;\n  boundaryWidth?: number;\n  scrollTopOffset?: number;\n  scrollBottomOffset?: number;\n  tipWidth?: number;\n  tipHeight?: number;\n  priority?: TipDirection[];\n}\n\nexport interface Step {\n  id: string;\n  title: string;\n  content: string;\n  next?: () => void;\n  prev?: () => void;\n}\n\nexport enum TipDirection {\n  TOP = 0, RIGHT = 1, BOTTOM = 2, LEFT = 3\n}\n\nconst defaultConfig = {\n  steps: undefined, skipForever: true, skipKey: 'skipWizard', boundaryWidth: 15, scrollTopOffset: 0, scrollBottomOffset: 0,\n  scroller: document.body, tipHeight: 180, tipWidth: 320, priority: [2, 0, 1, 3]\n};\n\n@Component({\n  selector: 'lib-wizard',\n  templateUrl: './wizard.component.html',\n  styleUrls: ['./wizard.component.scss'],\n  encapsulation: ViewEncapsulation.None\n})\nexport class WizardComponent implements OnInit, OnChanges, OnDestroy {\n\n  @Input() config: WizardConfig;\n\n  @Output() stepChange = new EventEmitter<{\n    prev: number; next: number\n  }>();\n\n  @ViewChild(NzCarouselComponent) carousel: any;\n\n  private position: TipDirection;\n\n  private arrowWidth = 15;\n\n  private _noWizard = true;\n  private current = 0;\n  private retryCount = 0;\n\n  private detector: any;\n  private domStyle: any;\n  private tipStyle: any;\n\n  get pos() {\n    return this.position;\n  }\n\n  get noWizard() {\n    return this._noWizard;\n  }\n\n  get currentIndex() {\n    return this.current;\n  }\n\n  get style() {\n    if (!this.domStyle) {\n      return null;\n    }\n    return {\n      width: `${this.domStyle.width}px`,\n      height: `${this.domStyle.height > document.body.clientHeight ? document.body.clientHeight : this.domStyle.height}px`,\n      'border-width': `${this.domStyle.borderTop}px ${this.domStyle.borderRight}px \\\n        ${this.domStyle.borderBottom}px ${this.domStyle.borderLeft}px`\n    };\n  }\n\n  get button() {\n    if (this.config && this.tipStyle) {\n      this.tipStyle.width = `${this.config.tipWidth}px`;\n      this.tipStyle.height = `${this.config.tipHeight}px`;\n    }\n    return this.tipStyle;\n  }\n\n  constructor() { }\n\n  ngOnInit() {\n    if (!this.config) {\n      this._noWizard = true;\n    }\n    fromEvent(window, 'resize').subscribe(() => this.detect());\n  }\n\n  close(store: boolean) {\n    this._noWizard = true;\n    if (store && this.config.skipForever) {\n      LocalStorageHelper.store(`${this.config.skipKey}`, true);\n    }\n  }\n\n  change(index: number) {\n    this.stepChange.emit({\n      prev: this.current, next: index\n    });\n    this.current = index;\n    setTimeout(() => this.detect());\n  }\n\n  ngOnDestroy() {\n    cancelAnimationFrame(this.detector);\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (changes.config && changes.config.currentValue) {\n      this.update();\n    }\n  }\n\n  private update() {\n    this.config = merge(cloneDeep(defaultConfig), this.config);\n    this._noWizard = (this.config.steps && this.config.steps.length) ?\n      (this.config.skipForever ? (LocalStorageHelper.get(this.config.skipKey) ? true : false) : false)\n      : true;\n    if (!this.noWizard) {\n      this.detectElement();\n    }\n  }\n\n  private detect() {\n    if (this.config && this.config.steps && this.config.steps.length && this.current < this.config.steps.length) {\n      const elem = document.querySelector(this.config.steps[this.current].id);\n      if (elem) {\n        const bounding = elem.getBoundingClientRect();\n        const scroller = this.config.scroller;\n        if (!this.scrollToPosition(bounding, scroller) && this.retryCount < 3) {\n          this.retryCount++;\n          setTimeout(() => this.detect());\n          return;\n        }\n        this.retryCount = 0;\n        this.calcDom(bounding);\n        this.calcTipDom(bounding);\n      } else {\n        this.detectElement();\n      }\n    }\n  }\n\n  private detectElement() {\n    this.detector = requestAnimationFrame(this.detect.bind(this));\n  }\n\n  private calcDom(bounding: any) {\n    this.domStyle = {\n      width: bounding.width + 2 * this.config.boundaryWidth,\n      height: bounding.height + 2 * this.config.boundaryWidth,\n      borderTop: this.limitToPositive(bounding.top - this.config.boundaryWidth),\n      borderLeft: this.limitToPositive(bounding.left - this.config.boundaryWidth),\n      borderBottom: this.limitToPositive(document.body.clientHeight - bounding.top - bounding.height - this.config.boundaryWidth),\n      borderRight: this.limitToPositive(document.body.clientWidth - bounding.left - bounding.width - this.config.boundaryWidth)\n    };\n  }\n\n  prev() {\n    const tmp = this.current;\n    this.current--;\n    if (this.current < 0) {\n      this.current = 0;\n    }\n    const callback = this.config.steps[tmp].prev;\n    if (callback) {\n      callback();\n    }\n    this.stepChange.emit({\n      prev: tmp, next: this.current\n    });\n    setTimeout(() => {\n      this.carousel.goTo(this.current);\n      this.detect();\n    });\n  }\n\n  next() {\n    const tmp = this.current;\n    this.current++;\n    if (this.current >= this.config.steps.length) {\n      this.current = this.config.steps.length - 1;\n    }\n    const callback = this.config.steps[tmp].next;\n    if (callback) {\n      callback();\n    }\n    this.stepChange.emit({\n      prev: tmp, next: this.current\n    });\n    setTimeout(() => {\n      this.carousel.goTo(this.current);\n      this.detect();\n    });\n  }\n\n  private calcTipDom(bounding: any) {\n    const topSpace = bounding.top - 2 * this.config.boundaryWidth - this.arrowWidth - this.config.tipHeight;\n    const bottomSpace = document.body.clientHeight - 2 * this.config.boundaryWidth\n      - bounding.top - bounding.height - this.arrowWidth - this.config.tipHeight;\n    const leftSpace = bounding.left - 2 * this.config.boundaryWidth - this.arrowWidth - this.config.tipWidth;\n    const rightSpace = document.body.clientWidth - 2 * this.config.boundaryWidth - bounding.left\n      - bounding.width - this.arrowWidth - this.config.tipWidth;\n    const spaces = this.config.priority.map(p => {\n      let space;\n      switch (p) {\n        case TipDirection.BOTTOM:\n          space = bottomSpace;\n          break;\n        case TipDirection.TOP:\n          space = topSpace;\n          break;\n        case TipDirection.LEFT:\n          space = leftSpace;\n          break;\n        case TipDirection.RIGHT:\n          space = rightSpace;\n          break;\n      }\n      return { direction: p, space };\n    });\n    const bundle = spaces.find(s => s.space >= 0);\n    this.position = bundle ? bundle.direction : TipDirection.BOTTOM;\n    switch (bundle.direction) {\n      case TipDirection.TOP:\n        this.tipStyle = {\n          left: `${this.limitTipInWindow(this.domStyle.borderLeft, document.body.clientWidth, this.config.tipWidth)}px`,\n          top: `${this.limitTipInWindow(this.domStyle.borderTop - this.config.tipHeight - this.arrowWidth,\n            document.body.clientHeight, this.config.tipHeight)}px`\n        };\n        break;\n      case TipDirection.RIGHT:\n        this.tipStyle = {\n          left: `${this.limitTipInWindow(this.domStyle.borderLeft + this.domStyle.width + this.arrowWidth,\n            document.body.clientWidth, this.config.tipWidth)}px`,\n          top: `${this.limitTipInWindow(this.domStyle.borderTop,\n            document.body.clientHeight, this.config.tipHeight)}px`\n        };\n        break;\n      case TipDirection.BOTTOM:\n        this.tipStyle = {\n          left: `${this.limitTipInWindow(this.domStyle.borderLeft,\n            document.body.clientWidth, this.config.tipWidth)}px`,\n          top: `${this.limitTipInWindow(this.domStyle.borderTop + this.domStyle.height + this.arrowWidth,\n            document.body.clientHeight, this.config.tipHeight)}px`\n        };\n        break;\n      case TipDirection.LEFT:\n        this.tipStyle = {\n          left: `${this.limitTipInWindow(this.domStyle.borderLeft - this.arrowWidth - this.config.tipWidth,\n            document.body.clientWidth, this.config.tipWidth)}px`,\n          top: `${this.limitTipInWindow(this.domStyle.borderTop,\n            document.body.clientHeight, this.config.tipHeight)}px`\n        };\n        break;\n      default:\n        console.log('no place');\n        break;\n    }\n  }\n\n  private limitToPositive(n: number) {\n    if (n < 0) {\n      return 0;\n    }\n    return n;\n  }\n\n  private limitTipInWindow(n: number, limit?: number, addon?: number) {\n    if (n < 0) {\n      return 0;\n    }\n    if (limit && addon && n + addon > limit) {\n      return limit - addon;\n    }\n    return n;\n  }\n\n\n  private scrollToPosition(bounding: any, scroller: any, addon?: number) {\n    if (scroller) {\n      const height = bounding.top + bounding.height + this.config.boundaryWidth + this.config.scrollBottomOffset + (addon || 0);\n      if (addon) {\n        const del = height - /*document.body.clientHeight*/scroller.clientHeight;\n        if (scroller.scrollTop > del) {\n          scroller.scrollTop -= del;\n          return false;\n        }\n      }\n      const scBounding = scroller.getBoundingClientRect();\n      if (bounding.top - this.config.scrollTopOffset > scBounding.top /*0*/ && height > scroller.clientHeight) {\n        const delta = height + 1 - scroller.clientHeight;\n        scroller.scrollTop += delta;\n        return false;\n      }\n      if (bounding.top - this.config.scrollTopOffset < scBounding.top) {\n        scroller.scrollTop -= bounding.top - this.config.scrollTopOffset;\n        return false;\n      }\n    }\n    return true;\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { WizardComponent } from './wizard.component';\nimport { CommonModule } from '@angular/common';\nimport { NzCarouselModule, NzButtonModule, NzGridModule } from 'ng-zorro-antd';\n\n@NgModule({\n  declarations: [WizardComponent],\n  imports: [\n    CommonModule, NzCarouselModule, NzButtonModule, NzGridModule\n  ],\n  exports: [WizardComponent]\n})\nexport class WizardModule { }\n"]}